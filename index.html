<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Weight Distribution Calculator</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 dark:bg-slate-900 rounded dark:text-slate-300">
    <div class="flex flex-col gap-5 p-5 min-h-screen justify-center">

        <div class="flex flex-row gap-5">
            <div class="flex">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 max-w-md min-w-[500px] w-full">
                    <h2 class="text-2xl font-bold mb-4 text-center">Forza Horizon 4 Calculator</h2>
                    <div class="mb-4">
                        <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Base Tuner Calculator</label>
                        <div class="flex flex-col appearance-none rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <p>
                                This is a base-tuning suspension calculator since thats the only one's with formula in it that you can calculate, atleast based on this video <a class="text-blue-500" href="https://www.youtube.com/watch?v=WM7_3NGGUoQ">Forza Horizon 4 How To Tune | Basics Guide</a> by <a class="text-blue-500" href="https://www.youtube.com/@HokiHoshi">HokiHoshi</a> <br>
                                <br>
                                Note that this is only for base tuning, sadly im not a magician yet... so i wont know if your car is under or over steering and you probably would need to fine tune it, this is not a tuner this is only to get base suspension based on this formula:<br>
                                <br>
                                <b>(Max - Min) * W% + Min</b><br>
                                <br>
                                after you get all the suspension value you will need to follow the video for the fine tuning part, here is the tldr from the said video:<br>
                                <br>
                                1. tune camber until it sits around 0 when you turn <br>
                                2. tune tire pressure until you get 33 psi (hot not cold)<br>
                                <br>
                                and done that should be your base, now if you encounter any problem you should refrence the video to solve the issue, or you can check the <a class="text-blue-500" href="#problem">problem</a> section underneath<br>
                                <br>
                                my ui might not be the best... so... if you are confused on how to use this tool you can follow the numbering next to the section e.g. <b>1. Weight Distribution</b> then to <b>2. Rebound Stiffness</b> and so on<br>
                                <br>
                                <b>Settings:</b><br>
                                <br>
                            </p>

                            <div class="">
                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2" for="favorite-food">
                                  units:
                                </label>
                                <div class="relative">
                                    <select id="selected-unit" class="block appearance-none w-full bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-900 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow dark:shadow-gray-950 leading-tight focus:outline-none focus:shadow-outline" oninput="changeUnit(this)">
                                        <option value="Unit">Unit</option>
                                        <option value="Metric">Metric</option>
                                        <option value="Murica">Murica</option>
                                    </select>
                                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
                                        <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>
                                    </div>
                                </div>

                                <label class="block text-gray-700 dark:text-gray-300 text-sm font-bold mb-2 pt-4" for="favorite-food">
                                  presets:
                                </label>
                                <div class="flex flex-row gap-3">

                                    <div class="relative flex w-full">
                                        <select id="stored-data-options" class="block appearance-none w-full bg-white dark:bg-gray-800 border border-gray-400 dark:border-gray-900 hover:border-gray-500 px-4 py-2 pr-8 rounded shadow dark:shadow-gray-950 leading-tight focus:outline-none focus:shadow-outline" oninput="syncInputHandler(this, 'stored-data'); loadAll()">
                                            <option value="" onclick="clearAll()"></option>
                                        </select>
                                        <input type="text" name="stored-data" id="stored-data" placeholder="add/select a value" onfocus="this.select()" class="absolute my-auto top-0 bottom-0 left-[1px] w-[calc(100%-30px)] h-[calc(100%-2px)] focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded">
                                        <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700 dark:text-gray-300">
                                            <svg class="fill-current h-4 w-4" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"/>
                                        </div>
                                    </div>
                                    

                                    <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="saveAll()">Save</button>
                                    <button id="reboundCalcBtn" class="bg-red-500 hover:bg-red-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline" onclick="loadAll()">Reset</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="flex flex-col w-full gap-5">
                <div class="flex flex-col gap-5 w-full h-full">
                    <div id="Rebound" class="flex flex-row gap-5">
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                            <h2 class="text-2xl font-bold mb-4 text-center">2. Rebound Stiffness (front)</h2>

                            <div class="flex flex-row w-full gap-3">
                                <div class="mb-4 w-full">
                                    <label for="f-rb-max" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Rebound Max (front)</label>
                                    <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                        <input type="text" id="f-rb-max" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded"  placeholder="Enter Max Rebound" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                        <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                            <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-4 w-full">
                                    <label for="f-rb-min" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Rebound Min (front)</label>
                                    <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                        <input type="text" id="f-rb-min" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter Min Rebound" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                        <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                            <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="f-rb-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="f-rb-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                            <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" onclick="doDivCalc(this);extraCalc(this)">Calculate</button>
                        </div>
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                            <h2 class="text-2xl font-bold mb-4 text-center">2. Rebound Stiffness (rear)</h2>

                            <div class="flex flex-row gap-3">
                                <div class="mb-4 w-full">
                                    <label for="r-rb-max" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Rebound Max (rear)</label>
                                    <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                        <input type="text" id="r-rb-max" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded"  placeholder="Enter Max Rebound" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                        <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                            <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                        </div>
                                    </div>
                                </div>
                                <div class="mb-4 w-full">
                                    <label for="r-rb-min" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Rebound Min (rear)</label>
                                    <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                        <input type="text" id="r-rb-min" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter Min Rebound" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                        <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                            <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mb-4">
                                <label for="r-rb-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="r-rb-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                            <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" onclick="doDivCalc(this);extraCalc(this)">Calculate</button>
                        </div>
                    </div>

                    <div id="Bump" class="flex flex-row gap-5 h-full">
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full flex flex-col justify-center">
                            <h2 class="text-2xl font-bold mb-4 text-center">3. Bump Stiffness (front)</h2>
                            <div class="mb-4">
                                <label for="f-bmp-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="f-bmp-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full flex flex-col justify-center">
                            <h2 class="text-2xl font-bold mb-4 text-center">3. Bump Stiffness (rear)</h2>
                            <div class="mb-4">
                                <label for="r-bmp-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="r-bmp-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>


                <div id="Springs" class="flex flex-row gap-5 w-full">
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                        <h2 class="text-2xl font-bold mb-4 text-center">4. Springs (front)</h2>

                        <div class="flex flex-row gap-3">
                            <div class="mb-4 w-full">
                                <label for="f-spr-max" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Springs Max (front)</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="f-spr-max" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded"  placeholder="Enter Max Springs" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4 w-full">
                                <label for="f-spr-min" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Springs Min (front)</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="f-spr-min" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter Min Springs" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="f-spr-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                            <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                <input type="text" id="f-spr-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                                <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                    <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                </div>
                            </div>
                        </div>
                        <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" onclick="doDivCalc(this)">Calculate</button>
                    </div>
                    <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                        <h2 class="text-2xl font-bold mb-4 text-center">4. Springs (rear)</h2>

                        <div class="flex flex-row gap-3">
                            <div class="mb-4 w-full">
                                <label for="r-spr-max" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Springs Max (rear)</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="r-spr-max" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded"  placeholder="Enter Max Springs" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                            <div class="mb-4 w-full">
                                <label for="r-spr-min" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Springs Min (rear)</label>
                                <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                    <input type="text" id="r-spr-min" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter Min Springs" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                    <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                        <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="mb-4">
                            <label for="r-spr-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                            <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                <input type="text" id="r-spr-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                                <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                    <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                </div>
                            </div>
                        </div>
                        <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" onclick="doDivCalc(this)">Calculate</button>
                    </div>
                </div>

            </div>

        </div>





        <div class="flex flex-row gap-5">
            <div class="flex">
                <div id="WD" class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 max-w-md min-w-[500px] w-full">
                    <h2 class="text-2xl font-bold mb-4 text-center">1. Weight Distribution</h2>
                    <div class="mb-4">
                        <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Front Weight Percentage</label>
                        <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <input type="text" id="frontWeight" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter front weight percentage">
                            <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                <span class="w-fit justify-center py-2 px-3 font-bold text-gray-400">%</span>
                            </div>
                        </div>
                    </div>
                    <div class="mb-4">
                        <label for="rearWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Rear Weight Percentage</label>
                        <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <input type="text" id="rearWeight" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter rear weight percentage">
                            <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                <span class="w-fit justify-center py-2 px-3 font-bold text-gray-400">%</span>
                            </div>
                        </div>
                    </div>
                    <button id="setBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full">Set</button>
                </div>
            </div>

            <div id="ARB" class="flex flex-row gap-5 w-full">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                    <h2 class="text-2xl font-bold mb-4 text-center">5. AntiRoll Bars (front)</h2>

                    <div class="flex flex-row gap-3">
                        <div class="mb-4 w-full">
                            <label for="f-arb-max" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">AntiRoll Bars Max (front)</label>
                            <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                <input type="text" id="f-arb-max" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded"  placeholder="Enter Max AntiRoll Bars" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                    <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4 w-full">
                            <label for="f-arb-min" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">AntiRoll Bars Min (front)</label>
                            <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                <input type="text" id="f-arb-min" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter Min AntiRoll Bars" oninput="syncInputHandler(this, getCounterPart(this.id))">
                                <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                    <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="f-arb-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                        <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <input type="text" id="f-arb-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                            <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                            </div>
                        </div>
                    </div>
                    <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" onclick="doDivCalc(this)">Calculate</button>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                    <h2 class="text-2xl font-bold mb-4 text-center">5. AntiRoll Bars (rear)</h2>

                    <div class="flex flex-row gap-3">
                        <div class="mb-4 w-full">
                            <label for="r-arb-max" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">AntiRoll Bars Max (rear)</label>
                            <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                <input type="text" id="r-arb-max" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded"  placeholder="Enter Max AntiRoll Bars">
                                <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                    <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                </div>
                            </div>
                        </div>
                        <div class="mb-4 w-full">
                            <label for="r-arb-min" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">AntiRoll Bars Min (rear)</label>
                            <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                                <input type="text" id="r-arb-min" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" placeholder="Enter Min AntiRoll Bars">
                                <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                    <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-4">
                        <label for="r-arb-res" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">result</label>
                        <div class="flex shadow dark:shadow-gray-950 appearance-none border rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <input type="text" id="r-arb-res" class="w-full focus:outline-none focus:shadow-outline py-2 px-3 dark:bg-slate-900 rounded" readonly>
                            <div class="flex bg-gray-200 dark:bg-gray-700 justify-center justify-center">
                                <span class="w-fit min-w-[75px] text-center justify-center py-2 px-3 font-bold text-gray-400">unit</span>
                            </div>
                        </div>
                    </div>
                    <button id="reboundCalcBtn" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline w-full" onclick="doDivCalc(this)">Calculate</button>
                </div>
            </div>

        </div>


        
        

        <div id="spacer" class="py-16">
            <div class="h-[2px] w-full bg-gray-500 rounded-lg"></div>
        </div>




        <div class="flex flex-row gap-5">
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 min-w-[500px] max-w-md w-full">
                <h2 class="text-2xl font-bold mb-4 text-center">Notes</h2>
                <div class="mb-4">
                    <!-- <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Problems</label> -->
                    <div id="problem" class="flex appearance-none rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                        <p>
                            <b>im a noob...</b> so i have no clue if any of these are true or what you actually should do since i did just learn this 5 minutes ago from a youtube video that span 26 minutes, in any case you probably should discuss or ask around the community for more indepth help in tuning<br>
                            <br>
                            <br>
                            Also the video gave some pointer on what to change if a problem may arises after base tuning:<br>
                        </p>
                    </div>
                </div>
            </div>


            <div class="flex flex-row gap-5 w-full">
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                    <h2 class="text-2xl font-bold mb-4 text-center">Unstable car Issues</h2>
                    <div class="mb-4">
                        <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Unstable car</label>
                        <div id="problem" class="flex appearance-none rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <p>
                                for <b>unstable car</b> you might want to try to:<br>
                                - <b>soften</b> front suspension <br>
                                &ensp;(im not sure what he meant but its probably spring ?)<br>
                                - <b>decrease</b> toe <br>
                                &ensp;(im not sure if its in or out and rear or front)<br>
                                - <b>adjust</b> rebound/bump<br>
                                &ensp;(again not sure lowering or increasing)<br>
                                - <b>adjust</b> downforce<br>
                                &ensp;(yeap... not sure front or rear and add or sub<br>
                                - <b>check</b> if bottoming out <br>
                                &ensp;(maybe adjust height ? im not sure and dont know)<br>
                            </p>
                        </div>
                    </div>
                </div>
                <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                    <h2 class="text-2xl font-bold mb-4 text-center">Lost of grip Issues</h2>
                    <div class="mb-4">
                        <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Lost of grip</label>
                        <div id="problem" class="flex appearance-none rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                            <p>
                                for <b>lost of grip</b> you might want to try to:<br>
                                - <b>lower</b> tire pressure<br>
                                - <b>decrease</b> diff lock percentage<br>
                                - <b>move</b> center diff <b> towards 50% (AWD ONLY)</b><br>
                                - <b>adjust</b> rebound/bump stiffness<br>
                                &ensp;(and again not sure lowering or increasing)<br>
                                - <b>check</b> camber settings<br>
                                - <b>move</b> gearing towards "speed"<br>
                                - <b>increase</b> downforce<br>
                                - <b>soften</b> anti-roll bars/springs<br>
                                &ensp;(not sure front or rear)<br>
                            </p>
                        </div>
                    </div>
                </div>
            </div>

        </div>

       <div class="flex flex-row gap-5 w-full">

            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                <h2 class="text-2xl font-bold mb-4 text-center">Understeering Issues</h2>
                <div class="mb-4">
                    <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Understeering</label>
                    <div id="problem" class="flex appearance-none rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                        <p>
                            for <b>understeering</b> you might want to try to:<br>
                            - <b>soften</b> front anti-roll bars<br>
                            - <b>soften</b> front springs<br>
                            - <b>increase</b> power to rear <b>(AWD ONLY)</b><br>
                            - <b>increase</b> front downforce<br>
                            - <b>increase</b> front bump stiffness<br>
                            - <b>lower</b> front rebound stiffness<br>
                            - <b>lower</b> diff lock percentage<br>
                            <br>
                        </p>
                    </div>
                </div>
            </div>
            <div class="bg-white dark:bg-gray-800 p-6 rounded-lg shadow-lg dark:shadow-gray-950 w-full">
                <h2 class="text-2xl font-bold mb-4 text-center">Oversteering Issues</h2>
                <div class="mb-4">
                    <label for="frontWeight" class="block text-gray-700 dark:text-gray-300 font-bold mb-2">Oversteering</label>
                    <div id="problem" class="flex appearance-none rounded w-full text-gray-700 dark:text-gray-300 leading-tight dark:border-slate-700">
                        <p>
                            for <b>oversteering</b> you might want to try to:<br>
                            - <b>soften</b> rear anti-roll bars<br>
                            - <b>increase</b> rear downforce<br>
                            - <b>increase</b> rear toe-in<br>
                            - <b>decrease</b> rear rebound stiffness<br>
                            - <b>increase</b> diff lock percentage<br>
                            - <b>move</b> center diff <b> towards 50% (AWD ONLY)</b><br>
                        </p>
                    </div>
                </div>
            </div>

        </div>

    </div>


























    <!-- success Alert -->
    <div x-data="alertComponent" x-show="alertIsVisible" :class="{ 'hidden': !onetime }" class="hidden shadow-green-400 fixed w-[400px] overflow-hidden rounded-xl border border-green-600 bg-white text-slate-700 dark:bg-slate-900 dark:text-slate-300 right-[20px] bottom-[20px]" role="alert" 
    x-transition:enter="transition ease-out duration-100" x-transition:enter-start="opacity-0 scale-90" x-transition:enter-end="opacity-100 scale-100"
    x-transition:leave="transition ease-in duration-200" x-transition:leave-start="opacity-100 scale-100" x-transition:leave-end="opacity-0 scale-90" 
    x-ref="alert">
        <div class="flex w-full items-center gap-2 bg-green-600/10 p-4">
            <div class="bg-green-600/15 text-green-600 rounded-full p-1" aria-hidden="true">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="size-6" aria-hidden="true">
                    <path fill-rule="evenodd" d="M10 18a8 8 0 1 0 0-16 8 8 0 0 0 0 16Zm3.857-9.809a.75.75 0 0 0-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 1 0-1.06 1.061l2.5 2.5a.75.75 0 0 0 1.137-.089l4-5.5Z" clip-rule="evenodd" />
                </svg>
            </div>
            <div class="ml-2">
                <h3 class="text-sm font-semibold text-green-600" x-text="title">Successfully Subscribed</h3>
                <p class="text-xs font-medium sm:text-sm" x-text="message">Success! You've subscribed to our newsletter. Welcome aboard!</p>
            </div>
            <button type="button" @click="alertIsVisible = false" class="ml-auto" aria-label="dismiss alert">
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" aria-hidden="true" stroke="currentColor" fill="none" stroke-width="2.5" class="w-4 h-4 shrink-0">
                  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/>
                </svg>
            </button>
        </div>
    </div>

    <script>
        document.addEventListener('alpine:init', () => {
            Alpine.data('alertComponent', () => ({
                alertIsVisible: false,
                title: '',
                message: '',
                onetime: true,
                showPopUp(title="Success", message="Success!") {
                    this.onetime = true
                    this.alertIsVisible = true;
                    this.title = title
                    this.message = message
                    setTimeout(() => {
                        this.alertIsVisible = false;
                    }, 1000); // Hide after 3 seconds
                },
                init() {
                    window.showPopUp = this.showPopUp.bind(this);
                }
            }));
        });
    </script>



    <script src="https://unpkg.com/alpinejs"></script>








































    <script defer>
        function tempStuff(el){
            document.getElementById('displayValue').value=el.options[el.selectedIndex].text; document.getElementById('idValue').value=el.options[el.selectedIndex].value;
        }

        frntEl = document.getElementById('frontWeight')
        rearEl = document.getElementById('rearWeight')

        frntPerc = localStorage.getItem("frntPerc");
        rearPerc = localStorage.getItem("rearPerc");



        var unitDict = {
            "Rebound":{
                "Unit":"unit",
                "Metric":"unit",
                "Murica":"unit"
            },
            "Bump":{
                "Unit":"unit",
                "Metric":"unit",
                "Murica":"unit"
            },
            "Springs":{
                "Unit":"unit",
                "Metric":"N/M",
                "Murica":"LB/IN"
            },
            "ARB":{
                "Unit":"unit",
                "Metric":"unit",
                "Murica":"unit"
            },
            "WD":{
                "Unit":"%",
                "Metric":"%",
                "Murica":"%"
            }
        }

        changeUnit(document.getElementById("selected-unit"))
        loadSaveList()
        loadAll()

        if(frntPerc){
            frntEl.value = Math.round(frntPerc*100)
        }

        if(rearPerc){
            rearEl.value = Math.round(rearPerc*100)
        }

        document.getElementById('setBtn').addEventListener('click', function() {
            var frontWeightVal = parseFloat(frntEl.value);
            var rearWeightVal = parseFloat(rearEl.value);

            if (!isNaN(frontWeightVal)) {
                var rearWeightVal = 100 - frontWeightVal;
                rearEl.value = rearWeightVal;

                frntPerc = frontWeightVal/100
                rearPerc = rearWeightVal/100

            } else if(!isNaN(rearWeightVal)) {
                var frontWeightVal = 100 - rearWeightVal;
                frntEl.value = frontWeightVal;

                frntPerc = frontWeightVal/100
                rearPerc = rearWeightVal/100
            } else {
                alert("please fill one of the input")
                return 1
            }

            console.log("[+] weight disb set!")

            localStorage.setItem("frntPerc", frntPerc)
            localStorage.setItem("rearPerc", rearPerc)

        });

        function formula1(max, min, percentage){
            return ((max-min) * percentage) + min
        }

        function save(name, data){
            localStorage.setItem(name, data)
            return data
        }



        function syncInputHandler(el, id){
            document.getElementById(id).value = el.value
        }
        function getCounterPart(id){
            ids = id.split("-")
            if(ids[0]=="r"){
                ids[0]="f"
            }else{
                ids[0]="r"
            }
            return ids.join("-")
        }









        function doDivCalc(el){
            var percentage = null
            const isFront = el.parentElement.getElementsByTagName("h2")[0].innerText.includes("(front)")
            const inputs = el.parentElement.getElementsByTagName("input")
            const related = Array.from(el.parentElement.parentElement.parentElement.getElementsByTagName("input"))
                .filter((x)=>x.id.split("-")[2]=='res')
                .filter((y)=>y.id.split("-")[1]=='bmp')

            const max = parseFloat(inputs[0].value)
            const min = parseFloat(inputs[1].value)
            const res = inputs[2]

            console.log(max,min,res)

            if(frntPerc == null || rearPerc == null){
                alert("error!!! please enter car weight distribution")
                return 1
            }

            if( !max || !min ){
                alert("error!!! you need to fill min and max value!")
                return 1
            }

            if( isNaN(max) || isNaN(min) ){
                alert("error!!! needed number not text !")
                return 1
            }



            if(isFront){
                percentage = frntPerc
            }else{
                percentage = rearPerc
            }

            res.value = formula1(max, min, percentage).toFixed(2)

            console.log("[+] value calculated!", formula1(max, min, percentage).toFixed(2), (percentage*100).toFixed(2)+"%")
        }








        function extraCalc(el){
            var correlated = null
            const isFront = el.parentElement.getElementsByTagName("h2")[0].innerText.includes("(front)")
            const inputs = el.parentElement.getElementsByTagName("input")
            const related = Array.from(el.parentElement.parentElement.parentElement.getElementsByTagName("input"))
                .filter((x)=>x.id.split("-")[2]=='res')
                .filter((y)=>y.id.split("-")[1]=='bmp')

            const res = inputs[2]

            if(isFront){
                corelated = related[0]
            }else{
                corelated = related[1]
            }
            
            corelated.value = (res.value*0.6).toFixed(2)

            console.log("[+] extra calculated!", (res.value*0.6).toFixed(2))
        }



        function changeUnit(el){
            const selection = el.value
            Object.keys(unitDict).forEach(id=>{
                Array.from(document.getElementById(id).getElementsByTagName("span")).forEach(el=>{
                    el.innerText = unitDict[id][selection]
                })
            })

            console.log("[+] unit changed !")

        }



        function saveAll(){
            const storageName = document.getElementById("stored-data").value
            let storageNameList = JSON.parse(localStorage.getItem("data-options"))

            if(!storageNameList){
                storageNameList = []
            }

            if(!storageName){
                alert("ERROR!!! you need to name the preset!")
                return
            }

            if(!storageNameList.includes(storageName)){
                storageNameList.push(storageName)
            }

            let datas = {}
            Object.keys(unitDict).forEach(id=>{
                const inputs = Array.from(document.getElementById(id).getElementsByTagName("input"))
                inputs.forEach(input=>{
                    datas[input.id]=input.value
                })
            })



            localStorage.setItem(storageName, JSON.stringify(datas))
            localStorage.setItem("data-options", JSON.stringify(storageNameList))
            localStorage.setItem("last-selected", storageName)

            console.log("[+] preset saved!")
            showPopUp("Saved!", "Data was saved successfully!")

            console.log(datas)
            loadSaveList()
        }


        function loadSaveList(){
            let storageNameList = JSON.parse(localStorage.getItem("data-options") || "[]" )
            let lastSelected = localStorage.getItem("last-selected")

            const datalistEl = document.getElementById("stored-data-options")
            const datalistInputEl = document.getElementById("stored-data")

            if(!lastSelected){
                console.log("[-] no last selected found!")
                return 1
            }

            if(!storageNameList){
                console.log("[-] no list found!")
                return 1
            }

            storageNameList.forEach(storageName=>{
                const option = document.createElement('option');
                option.value = storageName;
                option.innerText = storageName;
                if(!Array.from(datalistEl.children).map(el=>el.value).includes(storageName)){
                    datalistEl.appendChild(option);
                }
            })

            datalistInputEl.value = lastSelected
            datalistEl.value = lastSelected

            console.log("[+] savelist loaded!")
        }


        function loadAll(){
            const storageName = document.getElementById("stored-data").value
            let datas = JSON.parse(localStorage.getItem(storageName))

            if(!storageName){
                console.log("[-] no preset name!")
                return 1
            }

            if(!datas){
                console.log("[-] no preset available!")
                return 1
            }

            Object.keys(datas).forEach(id=>{
                document.getElementById(id).value = datas[id]
            })

            localStorage.setItem("last-selected", storageName)

            console.log("[+] preset loaded!")
            // console.log(datas)

            const frontWeightVal = parseFloat(frntEl.value);
            const rearWeightVal = parseFloat(rearEl.value);

            frntPerc = (frontWeightVal/100).toFixed(2)
            rearPerc = (rearWeightVal/100).toFixed(2)

            try{
                showPopUp("Loaded!", "Data was loaded from localstorage successfully!")
            }catch (e) {
                console.log(e)
            }
        }

        function clearAll(){
            Object.keys(unitDict).forEach(id=>{
                const inputs = Array.from(document.getElementById(id).getElementsByTagName("input"))
                inputs.forEach(input=>{
                    input.value=""
                })
            })
        }

    </script>



</body>
</html>
